# 04. –§–∏–Ω–∞–Ω—Å—ã –∏ –ü–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è (Feature Spec)

–ú–æ–¥—É–ª—å –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å—ã –ø—Ä–∏–µ–º–∞ –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ (—ç–∫–≤–∞–π—Ä–∏–Ω–≥), —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–º–∏ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é –≥—É–º–∞–Ω–∏—Ç–∞—Ä–Ω–æ–π –ø–æ–º–æ—â–∏ (–≤–µ—â–∏).

## 1. –¢–∏–ø—ã –¥–µ–Ω–µ–∂–Ω—ã—Ö –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–π

### 1.1. –†–∞–∑–æ–≤—ã–π –¥–æ–Ω–∞—Ç (One-time Payment)
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—É—é —Å—É–º–º—É.
* **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
    1.  **–û–±—â–µ–µ:** "–ù–∞ —É—Å—Ç–∞–≤–Ω—É—é –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å" (–∫–æ—Ä–º, –∫–æ–º–º—É–Ω–∞–ª–∫–∞).
    2.  **–ê–¥—Ä–µ—Å–Ω–æ–µ:** –ü—Ä–∏–≤—è–∑–∫–∞ –∫ `animal_id` (–∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∂–∏–≤–æ—Ç–Ω–æ–º—É).
    3.  **–°–±–æ—Ä (Campaign):** –ü—Ä–∏–≤—è–∑–∫–∞ –∫ `campaign_id` (–Ω–∞–ø—Ä., "–°—Ä–æ—á–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –¥–ª—è –†–µ–∫—Å–∞").
* **–°—É–º–º—ã:** –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ (300, 500, 1000 ‚ÇΩ) + –ü–æ–ª–µ "–°–≤–æ—è —Å—É–º–º–∞".
* **–ü—Ä–æ—Ü–µ—Å—Å:**
    1.  –í—ã–±–æ—Ä —Å—É–º–º—ã –∏ —Ü–µ–ª–∏.
    2.  –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –ø–ª–∞—Ç–µ–∂–Ω—ã–π —à–ª—é–∑ (–Æ–ö–∞—Å—Å–∞/CloudPayments/Tinkoff ‚Äî *–≤—ã–±—Ä–∞—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞*).
    3.  –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–°–ø–∞—Å–∏–±–æ" (Success Page).

### 1.2. –†–µ–≥—É–ª—è—Ä–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ (Recurrent Payment)
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–ø–∏—Å–∞–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤ —Ä–∞–∑ –≤ –º–µ—Å—è—Ü.
* **–°—Ü–µ–Ω–∞—Ä–∏–π:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ç–∞–≤–∏—Ç –≥–∞–ª–æ—á–∫—É "–ü–æ–º–æ–≥–∞—Ç—å –µ–∂–µ–º–µ—Å—è—á–Ω–æ".
* **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
    * –ú—ã –ù–ï —Ö—Ä–∞–Ω–∏–º –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç (PCI DSS compliance).
    * –ú—ã —Å–æ—Ö—Ä–∞–Ω—è–µ–º `payment_token` (—Ç–æ–∫–µ–Ω —Ä–µ–∫—É—Ä—Ä–µ–Ω—Ç–∞), –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±–∞–Ω–∫ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞.
    * Cron-–∑–∞–¥–∞—á–∞ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ —Ä–∞–∑ –≤ 30 –¥–Ω–µ–π –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç —Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ —Ç–æ–∫–µ–Ω—É.
* **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
    * –û—Ç–º–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ Telegram-–±–æ—Ç–∞ (–∫–æ–º–∞–Ω–¥–∞ `/unsubscribe`) –∏–ª–∏ –ø–æ —Å—Å—ã–ª–∫–µ –≤ –ø–∏—Å—å–º–µ-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–∏.

### 1.3. –°—Ä–æ—á–Ω—ã–µ —Å–±–æ—Ä—ã (Campaigns)
–û—Ç–¥–µ–ª—å–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å –¥–ª—è —Ñ–æ—Ä—Å-–º–∞–∂–æ—Ä–æ–≤.
* **–ê—Ç—Ä–∏–±—É—Ç—ã:** –ó–∞–≥–æ–ª–æ–≤–æ–∫, –¶–µ–ª—å (—Å—É–º–º–∞), –°–æ–±—Ä–∞–Ω–æ (—Å—É–º–º–∞), –î–µ–¥–ª–∞–π–Ω, –û–ø–∏—Å–∞–Ω–∏–µ, –§–æ—Ç–æ.
* **–õ–æ–≥–∏–∫–∞:**
    * –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.
    * **Overfunding (–ü–µ—Ä–µ—Å–±–æ—Ä):** –ï—Å–ª–∏ —Å–æ–±—Ä–∞–ª–∏ –±–æ–ª—å—à–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 15 000 –∏–∑ 10 000), —Å–±–æ—Ä –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –∞ –æ—Å—Ç–∞—Ç–æ–∫ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è –Ω–∞ –±–∞–ª–∞–Ω—Å "–û–±—â–∏–µ –Ω—É–∂–¥—ã". –û–± —ç—Ç–æ–º –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—É–±–ª–∏—á–Ω–∞—è –æ—Ñ–µ—Ä—Ç–∞.

## 2. –ü–æ–º–æ—â—å –≤–µ—â–∞–º–∏ (In-kind Donations)
–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å (–±–µ–∑ —Å—Ç—Ä–æ–≥–æ–≥–æ —É—á–µ—Ç–∞ —Å–∫–ª–∞–¥–∞).

### 2.1. –°–ø–∏—Å–æ–∫ –Ω—É–∂–¥ (Wishlist)
–ê–¥–º–∏–Ω —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–ø–∏—Å–∫–æ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∞–¥–º–∏–Ω–∫–µ.
* *–ü—Ä–∏–º–µ—Ä:*
    * –ö–∞—Ç–µ–≥–æ—Ä–∏—è "–ú–µ–¥–∏—Ü–∏–Ω–∞": "–ë–∏–Ω—Ç—ã", "–•–ª–æ—Ä–≥–µ–∫—Å–∏–¥–∏–Ω".
    * –ö–∞—Ç–µ–≥–æ—Ä–∏—è "–ë—ã—Ç": "–ü–µ–ª–µ–Ω–∫–∏ 60—Ö90", "–°—Ä–µ–¥—Å—Ç–≤–æ –¥–ª—è –º—ã—Ç—å—è –ø–æ–ª–∞".
* **–°—Ç–∞—Ç—É—Å—ã —Ç–æ–≤–∞—Ä–æ–≤:**
    * üü¢ "–í—Å–µ–≥–¥–∞ –Ω—É–∂–Ω–æ"
    * üî¥ "SOS (–ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è)"
    * ‚ö™ "–í—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ –Ω—É–∂–Ω–æ" (—Å–∫—Ä—ã—Ç–æ).

### 2.2. –ó–∞—è–≤–∫–∞ –Ω–∞ –ø—Ä–∏–≤–æ–∑
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —á–∏—Ç–∞–µ—Ç –Ω–∞ —Å–∞–π—Ç–µ —Å–ø–∏—Å–æ–∫ –Ω—É–∂–Ω, –∏ –ø—Ä–∏–≤–æ–∑–∏—Ç –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –∞–¥—Ä–µ—Å, –µ–≥–æ —Ç–∞–º –≤—Å—Ç—Ä–µ—Ç—è—Ç, –±–µ–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞—è–≤–∫–∏.

## 3. –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å

### 3.1. –õ–æ–≥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
–ü—É–±–ª–∏—á–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –Ω–∞ —Å–∞–π—Ç–µ "–û—Ç—á–µ—Ç–Ω–æ—Å—Ç—å".
* **–ü–æ–ª—è:** –î–∞—Ç–∞, –°—É–º–º–∞, –¢–∏–ø (–†–∞–∑–æ–≤—ã–π/–ü–æ–¥–ø–∏—Å–∫–∞), –ò–º—è (–∏–ª–∏ "–ê–Ω–æ–Ω–∏–º"), –¶–µ–ª—å.
* **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:** –ü–æ –º–µ—Å—è—Ü–∞–º, –ø–æ –≥–æ–¥–∞–º.

### 3.2. –î–æ–∫—É–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
* **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF:** –ê–¥–º–∏–Ω –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–∫–∞–Ω—ã —á–µ–∫–æ–≤/–∞–∫—Ç–æ–≤ –∏–∑ –≤–µ—Ç–∫–ª–∏–Ω–∏–∫ –≤ –∞–¥–º–∏–Ω–∫—É.
* –°–∏—Å—Ç–µ–º–∞ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –µ–∂–µ–º–µ—Å—è—á–Ω—ã–π –æ—Ç—á–µ—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ "–î–æ–∫—É–º–µ–Ω—Ç—ã".

## 4. –°—Ç–∞—Ç—É—Å–Ω–∞—è –º–æ–¥–µ–ª—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (Transaction Lifecycle)

| –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- |
| **CREATED** | –ó–∞–ø–∏—Å—å —Å–æ–∑–¥–∞–Ω–∞ –≤ –ë–î, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—à–µ–ª –Ω–∞ —à–ª—é–∑. |
| **PENDING** | –®–ª—é–∑ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–ª–∞—Ç–µ–∂. |
| **SUCCESS** | –®–ª—é–∑ –ø—Ä–∏—Å–ª–∞–ª webhook: `payment.succeeded`. –î–µ–Ω—å–≥–∏ –∑–∞—á—Ç–µ–Ω—ã. |
| **FAILED** | –û—à–∏–±–∫–∞ (–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤, –æ—à–∏–±–∫–∞ –±–∞–Ω–∫–∞). |
| **REFUNDED** | –ê–¥–º–∏–Ω —Å–¥–µ–ª–∞–ª –≤–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤ (—Ä–µ–¥–∫–∏–π –∫–µ–π—Å). |

## 5. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (Transaction Emails/Messages)
* **–£—Å–ø–µ—à–Ω—ã–π –¥–æ–Ω–∞—Ç:** "–°–ø–∞—Å–∏–±–æ, –ò–≤–∞–Ω! –í–∞—à–∏ 500‚ÇΩ –ø–æ–º–æ–≥—É—Ç –∫—É–ø–∏—Ç—å 2 –∫–≥ –∫–æ—Ä–º–∞." (–û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ Email).
* **–û—à–∏–±–∫–∞ —Å–ø–∏—Å–∞–Ω–∏—è (—Ä–µ–∫—É—Ä—Ä–µ–Ω—Ç):** "–ù–µ —É–¥–∞–ª–æ—Å—å —Å–ø–∏—Å–∞—Ç—å –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–µ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞—Ä—Ç—É." (–û—Ç–ø—Ä–∞–≤–∫–∞ –≤ TG –±–æ—Ç –∏–ª–∏ Email).